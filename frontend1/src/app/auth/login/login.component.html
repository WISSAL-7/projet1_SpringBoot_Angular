<div class="login-container">
    <h2>Connexion</h2>
    
    <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" class="form-control" formControlName="email">
            <div *ngIf="loginForm.get('email')?.invalid && (loginForm.get('email')?.dirty || loginForm.get('email')?.touched)" class="validation-error">
                <span *ngIf="loginForm.get('email')?.errors?.['required']">L'email est requis.</span>
                <span *ngIf="loginForm.get('email')?.errors?.['email']">Format d'email invalide.</span>
            </div>
        </div>

        <div class="form-group">
            <label for="password">Mot de passe</label>
            <input type="password" id="password" class="form-control" formControlName="password">
            <div *ngIf="loginForm.get('password')?.invalid && (loginForm.get('password')?.dirty || loginForm.get('password')?.touched)" class="validation-error">
                <span *ngIf="loginForm.get('password')?.errors?.['required']">Le mot de passe est requis.</span>
                <span *ngIf="loginForm.get('password')?.errors?.['minlength']">Le mot de passe doit contenir au moins 6 caract√®res.</span>
            </div>
        </div>

        <button 
            type="submit" 
            class="btn btn-primary" 
            [disabled]="loginForm.invalid || isLoading">
            <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            {{ isLoading ? 'Connexion...' : 'Se connecter' }}
        </button>
    </form>
    
    <div class="mt-3">
        Pas encore de compte ? <a [routerLink]="['/auth']">S'inscrire</a>
    </div>
</div>